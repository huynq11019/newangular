<div class="row">
  <div class="col-3  pe-5"></div>
  <div class="d-flex justify-content-end col-12">

    <input type="text" class="form-control w-30 me-md-3" placeholder="Enter Keyword..." [(ngModel)]="param.keywoord"
           (keyup.enter)="searchKey()">
    <nz-button-group [nzSize]="size">
      <button nz-button nzType="primary" nz-popover nzType="primary" nzPopoverContent="Tạo Sản phẩm"
              nzPopoverPlacement="bottomLeft" (click)="openNew()">
        <!--          <i nz-icon nzType="cloud"></i>-->
        <i nz-icon nzType="plus-circle" nzTheme="outline"></i>
      </button>
      <button nz-button nzType="danger" nz-popover nzPopoverContent="xóa sản phẩm" nzPopoverPlacement="bottomRight">
        <!--          <i nz-icon nzType="cloud"></i>-->
        <!--        <i nz-icon nzType="plus-circle" nzTheme="outline"></i>-->
        <i nz-icon nzType="delete" nzTheme="outline"></i>
      </button>
    </nz-button-group>
  </div>
</div>
<div class="card-body px-0 pt-0 pb-2">
    <table class="table align-items-center justify-content-center mb-0">
      <thead>
      <tr>
        <th class="text-uppercase text-secondary text-xl font-weight-bolder opacity-7 p-3">
          <label for="checkAll">
            <input id="checkAll" type="checkbox">
          </label>

        </th>
        <th class="text-uppercase text-primary text-xl font-weight-bolder opacity-7 ps-2"
            (click)="sortTable('nameProduct')"> Product
        </th>
        <th class="text-uppercase text-danger text-xl font-weight-bolder opacity-7 ps-2"
            (click)="sortTable('realPrice')">Price
        </th>
        <th class="text-uppercase text-info text-xl font-weight-bolder opacity-7 ps-2"
            (click)="sortTable('deleteAt')">Status
        </th>
        <th class="text-uppercase text-warning text-xl font-weight-bolder text-center opacity-7 ps-2"
            (click)="sortTable('quantity')">quantity
        </th>
        <th class="text-uppercase text-primary text-xl font-weight-bolder text-center opacity-7 ps-2"
            (click)="sortTable('cateGoryofPro')">Category
        </th>
        <th class="text-uppercase text-danger text-xl font-weight-bolder text-center opacity-7 ps-2"
            (click)="sortTable('lastUpdated')">last Update
        </th>

        <th class="text-uppercase text-dark text-lg font-weight-bolder text-center opacity-7 ps-2">Action</th>

      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of sanphamPage?.content, index as i">
        <td class="p-0">
          <label class="ms-0 ps-3">
            <input type="checkbox" class="">

          </label>
        </td>
        <td class="p-0">

          <div class="d-flex px-2">
            <div>
              <img
                [src]="item?.image ?  'http://localhost:8099/api/file/img/'+item?.image : 'https://www.playzone.vn/image/cache/no_image-100x100.png' "
                class="avatar avatar-sm rounded-circle me-2">
            </div>
            <div class="my-auto">
              <h6 class="mb-0 text-sm">{{item?.nameProduct}}</h6>
            </div>
          </div>
        </td>
        <td>
          <p class="text-sm font-weight-bold mb-0">$
            <del>{{item.realPrice|number}}</del>
            <span class="text-danger">-{{item?.discount}}%</span></p>
          <p>${{(item?.realPrice) - (item?.realPrice * item?.discount) / 100|number }}</p>
        </td>
        <td>

          <div *ngIf="!item?.deleteAt; else offBlock">
            <span class="badge badge-sm bg-gradient-success"> On</span>
          </div>
          <ng-template #offBlock>
            <span class="badge badge-sm bg-gradient-faded-danger"> Off</span>
          </ng-template>
        </td>
        <td class="align-middle text-center">
          <span>{{item?.quantity}}</span>
          <!--            <div class="d-flex align-items-center justify-content-center">-->
          <!--              <span class="me-2 text-xs font-weight-bold">100%</span>-->
          <!--              <div>-->
          <!--                <div class="progress">-->
          <!--                  <div class="progress-bar bg-gradient-info" role="progressbar" aria-valuenow="60" aria-valuemin="0"-->
          <!--                       aria-valuemax="100" style="width: 100%;"></div>-->
          <!--                </div>-->
          <!--              </div>-->
          <!--            </div>-->
        </td>
        <td>
          <span class="text-xs font-weight-bold">{{item?.cateGoryofPro}}</span>
        </td>
        <td>
            <span class="text-xs font-weight-bold">{{item?.lastUpdated | amLocal | amDateFormat: 'YYYY-MM-DD mm:ss'}}
              <p>By <b class="text-danger">{{item?.updatedBy ? item?.createByName : 'no One'}}</b></p></span>
        </td>
        <td class="align-middle">

          <!--            <button mat-raised-button color="primary">Primary</button>-->
          <button mat-stroked-button color="primary" class="ms-md-2 p-0" (click)="openEdit(item)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-stroked-button (click)="onViewProduct(item?.id)" color="accent" class="ms-md-2">
            <mat-icon>visibility</mat-icon>
          </button>
          <button mat-stroked-button color="warn" class="ms-md-2" (click)="onRemveProduct(item?.id)">
            <mat-icon>deleteforever</mat-icon>
          </button>
          <!--            <mat-icon class="mat-icon-rtl-mirror" svgIcon="shopping_cart"></mat-icon>-->
        </td>
      </tr>


      </tbody>
    </table>
  <nz-pagination nzShowSizeChanger [nzPageIndex]="1"
                 [nzTotal]="totalElement"
                 [nzPageSizeOptions]="[5, 10, 15]"
                 (nzPageIndexChange)="changePage($event)"
                 (nzPageSizeChange)="changeSize($event)"
                 [nzPageSize]="5"
  ></nz-pagination>
</div>

<div class="row">
  <!--  <button (click)="openModal()">open my modal</button>-->
  <modal #myModal>
    <modal-header>
      <h1>Modal header</h1>
    </modal-header>
    <modal-content>
      <app-product-form></app-product-form>
    </modal-content>
    <!--    <modal-footer>-->
    <!--      <button class="btn btn-primary" (click)="closeModal()">close</button>-->
    <!--    </modal-footer>-->
  </modal>
</div>
